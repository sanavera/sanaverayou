<!doctype html>
<html lang="es" data-theme="dark">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>SanaveraYou Pro</title>

  <meta name="theme-color" content="#0b0a11" />

  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css" />
</head>
<body>

  <img
    id="logoFloat"
    class="logo-float"
    src="https://media.tenor.com/1cXi0R-pjyoAAAAj/club-atlético-independiente-avellaneda.gif"
    alt="Logo"
  />

  <button id="themeToggle" class="theme-toggle" aria-label="Cambiar tema">
    <span class="ico sun" aria-hidden="true"></span>
    <span class="ico moon" aria-hidden="true"></span>
  </button>

  <button id="searchFab" class="search-fab search-fab-global" aria-label="Buscar">
    <svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true">
      <path d="M15.5 14h-.79l-.28-.27A6.48 6.48 0 0016 9.5 6.5 6.5 0 109.5 16c1.61 0 3.09-.59 4.23-1.57l.27.27v.8L20 21.5 21.5 20l-6-6zM9.5 14A4.5 4.5 0 1114 9.5 4.51 4.51 0 019.5 14z"/>
    </svg>
  </button>

  <div id="searchOverlay" class="search-overlay">
    <div class="search-card">
      <input id="overlaySearchInput" placeholder="Buscá algo… (Enter)" autocomplete="off" />
    </div>
  </div>

  <main id="views">
    <section id="view-search" class="view active">
      <section id="homeSection" class="home-section">
        <header class="home-head">
          <h3 class="home-title animated-title">
            Listas recomendadas
            <span class="eq-title" aria-hidden="true"><span></span><span></span><span></span></span>
          </h3>
        </header>
        <div id="homePlaylistsContainer" class="home-grid">
            <!-- Las tarjetas de playlist se insertarán aquí dinámicamente -->
        </div>
        <div id="userPlaylistsContainer" class="home-grid">
             <!-- Las playlists de usuarios se insertarán aquí -->
        </div>
      </section>

      <section id="results" class="results"></section>
      <div id="sentinel" aria-hidden="true"></div>
    </section>

    <section id="view-favs" class="view">
      <div class="fav-hero" id="favHero">
        <div class="fav-hero-text">
          <p class="muted up">TUS FAVORITOS</p>
          <h2 id="favNowTitle">-</h2>
        </div>
      </div>
      <section class="fav-list-wrap">
        <ul id="favList" class="fav-list"></ul>
      </section>
    </section>

    <section id="view-playlists" class="view">
        <header class="section-head">
            <h3>Mis Playlists</h3>
            <div class="pl-actions">
              <button id="btnNewPlaylist" class="pill">Nueva</button>
            </div>
        </header>
        <div id="plList" class="pl-grid"></div>
        <div id="plEmpty" class="empty muted hide">Aún no hay playlists. Crea la primera ✨</div>
    </section>

    <section id="view-player" class="view now-playing">
      <div class="player-header-sticky">
        <div id="npHero" class="np-hero"></div>
        <div class="np-meta">
          <div id="npTitle" class="np-title">Elegí una canción</div>
          <div id="npSub" class="np-sub muted">-</div>
        </div>
        <div class="player-controls">
          <div class="time-control">
              <span id="cur">0:00</span>
              <input id="seek" type="range" min="0" max="1000" value="0" />
              <span id="dur">0:00</span>
          </div>
          <div class="buttons-control">
              <button id="btnShuffle" class="icon-btn-player" aria-label="Aleatorio"><svg viewBox="0 0 24 24" width="24" height="24"><path fill="currentColor" d="M10.59 9.17L5.41 4 4 5.41l5.17 5.17 1.42-1.41zM14.5 4l2.04 2.04L4 18.59 5.41 20 17.96 7.46 20 9.5V4h-5.5zm.33 9.41l-1.41 1.41 3.13 3.13L14.5 20H20v-5.5l-2.04 2.04-3.13-3.13z"/></svg></button>
              <button id="btnPrev" class="icon-btn-player" aria-label="Anterior"><svg viewBox="0 0 24 24" width="24" height="24"><path fill="currentColor" d="M6 6h2v12H6zm3.5 6l8.5 6V6z"/></svg></button>
              <button id="npPlay" class="np-play" aria-label="Play/Pause">
                  <svg class="i-play" viewBox="0 0 24 24" width="36" height="36"><path fill="currentColor" d="M8 5v14l11-7z"/></svg>
                  <svg class="i-pause" viewBox="0 0 24 24" width="36" height="36"><path fill="currentColor" d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"/></svg>
              </button>
              <button id="btnNext" class="icon-btn-player" aria-label="Siguiente"><svg viewBox="0 0 24 24" width="24" height="24"><path fill="currentColor" d="M6 18l8.5-6L6 6v12zM16 6v12h2V6h-2z"/></svg></button>
              <button id="btnRepeat" class="icon-btn-player" aria-label="Repetir"><svg viewBox="0 0 24 24" width="24" height="24"><path fill="currentColor" d="M7 7h10v3l4-4-4-4v3H5v6h2V7zm10 10H7v-3l-4 4 4 4v-3h12v-6h-2v4z"/></svg></button>
          </div>
        </div>
      </div>
      <section id="queuePanel" class="queue-panel hide">
        <header class="section-head">
          <h3 id="queueTitle">Playlist</h3>
        </header>
        <ul id="queueList" class="fav-list"></ul>
      </section>
    </section>
  </main>

  <section id="seekDock" class="seek-dock">
    <div id="miniNow" class="mini-now">
        <img id="miniThumb" class="mini-thumb" alt="" />
        <div class="mini-content-wrapper">
            <div class="mini-meta" onclick="switchView('view-player')">
                <div id="miniTitle" class="title-text"></div>
                <div id="miniAuthor" class="subtitle"></div>
            </div>
            <div class="mini-progress">
                <span id="miniCur">0:00</span>
                <input id="miniSeek" class="seek-bar-mini" type="range" min="0" max="1000" value="0" />
                <span id="miniDur">0:00</span>
            </div>
        </div>
        <button id="miniPlay" class="mini-btn" title="Play/Pause" aria-label="Play/Pause">
            <svg class="i-play" viewBox="0 0 24 24"><path d="M8 5v14l11-7z"/></svg>
            <svg class="i-pause" viewBox="0 0 24 24"><path d="M6 5h4v14H6zM14 5h4v14h-4z"/></svg>
        </button>
    </div>
  </section>

  <nav id="bottomNav" class="bottom-nav">
    <button data-view="view-search" class="nav-btn active">
      <svg viewBox="0 0 24 24"><path d="M15.5 14h-.79l-.28-.27A6.48 6.48 0 0016 9.5 6.5 6.5 0 109.5 16c1.61 0 3.09-.59 4.23-1.57l.27.27v.8L20 21.5 21.5 20l-6-6zM9.5 14A4.5 4.5 0 1114 9.5 4.51 4.51 0 019.5 14z"/></svg>
      <span>Inicio</span>
    </button>
    <button data-view="view-favs" class="nav-btn">
      <svg viewBox="0 0 24 24"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 6 4 4 6.5 4c1.54 0 3.04.81 4 2.09C11.46 4.81 12.96 4 14.5 4 17 4 19 6 19 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/></svg>
      <span>Favoritos</span>
    </button>
    <button data-view="view-playlists" class="nav-btn">
      <svg viewBox="0 0 24 24"><path d="M3 6h14v2H3V6zm0 4h14v2H3v-2zm0 4h10v2H3v-2zm16-8h2v10h-2V6zm0 12h2v2h-2v-2z"/></svg>
      <span>Playlists</span>
    </button>
    <button data-view="view-player" class="nav-btn">
      <svg viewBox="0 0 24 24"><path d="M12 3a9 9 0 100 18A9 9 0 0012 3zm-2 13V8l6 4-6 4z"/></svg>
      <span>Reproductor</span>
    </button>
  </nav>

  <div id="menuSheet" class="sheet"></div>
  <div id="playlistSheet" class="sheet">
    <div class="sheet-content">
      <div class="sheet-title">Agregar a playlist</div>
      <div id="plChoices" class="sheet-list"></div>
      <div class="sheet-row">
        <input id="plNewNameFromSong" placeholder="Nombre nueva playlist" />
        <button id="plCreateFromSong" class="pill">Crear</button>
      </div>
      <button id="plCancel" class="sheet-item ghost">Cancelar</button>
    </div>
  </div>

  <!-- Nuevo Modal para Crear Playlist -->
  <div id="createPlaylistSheet" class="sheet">
    <div class="sheet-content">
      <div class="sheet-title">Crear nueva playlist</div>
      <div class="sheet-form">
        <input id="newPlName" placeholder="Nombre de la playlist" autocomplete="off" />
        <input id="newPlCreator" placeholder="Tu nombre (creador)" autocomplete="off" />
      </div>
      <div class="sheet-actions">
        <button id="createPlCancel" class="sheet-item ghost">Cancelar</button>
        <button id="createPlConfirm" class="sheet-item pill">Crear</button>
      </div>
    </div>
  </div>


  <div id="yt-holder"><div id="player"></div></div>

  <!-- Firebase SDKs -->
  <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app.js" type="module"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore.js" type="module"></script>
  
  <script src="script.js"></script>
</body>
</html>

:root{
  --bg:#0e0f13;
  --elev:#161821;
  --tile:#1b1e27;
  --tile-hover:#222634;
  --muted:#aab0c0;
  --text:#f6f7fb;
  --brand:#e0565a;      /* rojo principal */
  --brand-2:#ff6b70;
  --line:#2a2f3e;

  --controls-h:180px;
  --side-pad:14px;
  --radius:12px;
  --shadow:0 8px 32px rgba(0,0,0,.35);
}

html{color-scheme:dark}
body{margin:0;background:linear-gradient(135deg,var(--bg),#0a0b10);color:var(--text);font-family:Inter,system-ui,Segoe UI,Roboto,sans-serif}
*{box-sizing:border-box}
.muted{color:var(--muted)}
.up{text-transform:uppercase;letter-spacing:.06em}

/* Bloquear scroll del fondo al abrir modal */
body.modal-open{overflow:hidden; position:fixed; inset:0; width:100%;}

/* Topbar */
.topbar{position:sticky;top:0;z-index:50;background:var(--elev);border-bottom:1px solid var(--line);padding:14px}
.brand-compact{display:flex;align-items:center;gap:10px}
#miniLogo{width:36px;height:36px;border-radius:50%;object-fit:cover;background:#111;border:1px solid var(--line)}
#searchInput{flex:1;background:var(--tile);border:2px solid transparent;color:var(--text);padding:12px 14px;border-radius:12px;outline:none;font-size:15px}
#searchInput:focus{border-color:var(--brand);background:var(--elev)}
#resultsCount{padding:8px 2px}

/* Resultados */
.results{padding:10px var(--side-pad) calc(var(--controls-h) + 28px);display:flex;flex-direction:column;gap:8px}
.card{display:flex;gap:12px;align-items:center;background:var(--tile);border:1px solid var(--line);border-radius:12px;padding:10px 12px}
.card:hover{background:var(--tile-hover)}
.thumb{width:56px;height:56px;flex:0 0 56px;border-radius:8px;object-fit:cover;background:#000}
.meta{min-width:0;flex:1}
.title-line{display:flex;align-items:center;gap:8px;min-width:0}
.title-text{font-weight:700;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.subtitle{font-size:13px;color:var(--muted)}
.actions{display:flex;gap:8px}
.icon-btn{width:36px;height:36px;border-radius:50%;border:1px solid var(--line);background:var(--elev);color:var(--text);display:flex;align-items:center;justify-content:center;cursor:pointer}
.icon-btn.heart.active{color:#ff4757}

/* Iconos (SVG) */
.btn svg, .icon-btn svg, .fab svg{width:22px;height:22px;fill:currentColor;display:block}
.btn-play svg{width:28px;height:28px}
.btn-play .i-pause{display:none}
.btn-play.playing .i-play{display:none}
.btn-play.playing .i-pause{display:block}

/* EQ animation */
.eq{display:none;align-items:flex-end;gap:2px;width:16px;height:14px;flex-shrink:0}
.eq span{display:block;width:3px;height:100%;background:var(--brand);opacity:.9;border-radius:1px;animation:bar .9s ease-in-out infinite}
.eq span:nth-child(2){animation-delay:.15s}
.eq span:nth-child(3){animation-delay:.3s}
@keyframes bar{0%,100%{transform:scaleY(.3);opacity:.6}50%{transform:scaleY(1);opacity:1}}
.card.is-playing .eq, .fav-item.is-playing .eq{display:inline-flex}

/* Botonera común */
.controls-section{position:fixed;left:0;right:0;bottom:0;z-index:40;background:rgba(22,24,33,.92);backdrop-filter:blur(16px);border-top:1px solid var(--line);padding:14px var(--side-pad) 10px}
.controls{display:flex;justify-content:center;align-items:center;gap:12px;margin-bottom:8px}
.btn{width:44px;height:44px;border-radius:50%;border:1px solid var(--line);background:var(--tile);color:var(--text);display:flex;align-items:center;justify-content:center;cursor:pointer}
.btn-play{width:64px;height:64px;background:var(--brand);color:#0a0b10;border:none}
.progress-container{width:100%}
.seek-bar{width:100%;appearance:none;height:6px;background:#242836;border-radius:3px;outline:none}
.seek-bar::-webkit-slider-thumb{appearance:none;width:16px;height:16px;border-radius:50%;background:var(--brand)}
.time-info{display:flex;justify-content:space-between;color:var(--muted);padding:6px 2px 0}

/* Crédito pequeño centrado */
.footer-text{
  text-align:center; font-size:11px; font-weight:600; color:var(--muted);
  line-height:1.2; padding-top:6px; margin-bottom:calc(4px + env(safe-area-inset-bottom));
}

/* FABs */
.fab{position:fixed;right:18px;bottom:96px;z-index:60;width:66px;height:66px;border-radius:18px;border:1px solid var(--line);background:#f35a63;color:#111;display:flex;align-items:center;justify-content:center;box-shadow:var(--shadow);cursor:pointer}
.fab-alt{bottom:180px}

/* Favoritos (modal fijo) */
.modal{
  position:fixed; inset:0; background:rgba(14,15,19,.92);
  backdrop-filter:blur(8px); display:none; z-index:1000;
  overscroll-behavior:contain;
}
.modal.show{display:block}

/* ⬇️ CLAVE para permitir scroll interno */
.modal-content{
  position:relative; display:flex; flex-direction:column;
  height:100vh; /* antes min-height; ahora altura fija del viewport */
  overflow:hidden;
}

/* Cabecera con portada */
.fav-hero{
  position:relative;
  aspect-ratio:16/9; max-height:42vh;
  background:#000 center/cover no-repeat;
  flex:0 0 auto;
}
.fav-hero::before{
  content:""; position:absolute; inset:0;
  background:linear-gradient(to top, rgba(14,15,19,.9) 0%, rgba(14,15,19,.4) 60%, rgba(14,15,19,0) 100%);
}
.fav-hero-text{position:absolute;left:16px;right:16px;bottom:16px}
.closer{position:absolute;right:16px;top:16px;width:48px;height:48px;border-radius:50%;border:1px solid var(--line);background:rgba(22,24,33,.8);color:#fff;font-size:28px;line-height:0;cursor:pointer}

/* Lista scrolleable */
.fav-list-wrap{
  flex:1; min-height:0; /* ⬅️ necesario en flex para que overflow funcione */
  overflow:auto; -webkit-overflow-scrolling:touch;
  overscroll-behavior:contain;
  padding:12px var(--side-pad) calc(var(--controls-h) + 32px);
}
.fav-list{list-style:none;margin:0;padding:0;display:flex;flex-direction:column;gap:10px}
.fav-item{display:flex;align-items:center;gap:12px;background:var(--tile);border:1px solid var(--line);border-radius:12px;padding:10px 12px}
.fav-item .meta{min-width:0;flex:1}
.fav-item .title-line{display:flex;align-items:center;gap:8px;min-width:0}
.remove-btn{width:40px;height:40px;border-radius:12px;border:1px solid var(--line);background:var(--elev);color:#fff;cursor:pointer}

/* Esconder por completo el iframe de YouTube */
#yt-holder, #player, #player iframe{
  position:absolute !important; width:1px !important; height:1px !important;
  left:-9999px !important; top:-9999px !important; opacity:0 !important;
  pointer-events:none !important; z-index:-1 !important;
}

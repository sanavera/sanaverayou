/* ===== Tema oscuro tipo Spotify, con play verde grande ===== */
:root{
  --bg:#0e0f13; --elev:#161821; --tile:#1b1e27; --tile-hover:#222634;
  --muted:#aab0c0; --text:#f6f7fb; --brand:#ff4d57; --brand-2:#ff6b72; --line:#2a2f3e;
  --play:#5ee192; --play-2:#37c977;
  --footer-safe:max(88px,64px + env(safe-area-inset-bottom));
  --side-pad:14px; --transition:150ms cubic-bezier(.4,0,.2,1);
  --shadow-sm:0 2px 8px rgba(0,0,0,.15); --shadow-md:0 4px 16px rgba(0,0,0,.25); --shadow-lg:0 8px 32px rgba(0,0,0,.35);
  --radius:12px; --radius-sm:10px;
}
html{color-scheme:dark}
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0; background:linear-gradient(135deg,var(--bg) 0%, #0a0b0f 100%); color:var(--text);
  font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif; -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale; line-height:1.5;
}

/* Header */
.header{padding:16px; position:sticky; top:0; z-index:20; background:var(--elev); border-bottom:1px solid var(--line); box-shadow:var(--shadow-md)}
.brand{display:flex; align-items:center; gap:10px; margin-bottom:12px}
#logo{width:36px;height:36px;border-radius:8px;object-fit:cover}
.header h1{font-size:18px; font-weight:800; letter-spacing:.3px}

.search{ position:relative; display:flex; align-items:center; gap:10px; background:var(--tile); border:1px solid var(--line); border-radius:var(--radius); padding:10px }
.search-ico{ position:absolute; left:14px; top:50%; transform:translateY(-50%); pointer-events:none; color:var(--muted) }
.search input{ flex:1; background:transparent; border:0; outline:0; color:var(--text); font-size:16px; padding:10px 12px 10px 42px }
.btn{ appearance:none; border:1px solid var(--line); background:var(--elev); color:var(--text); padding:10px 16px; border-radius:12px; cursor:pointer; font-weight:700; font-size:14px; transition:all .2s; box-shadow:var(--shadow-sm) }
.btn:hover{background:var(--brand); color:#0b0b0b; transform:translateY(-1px); box-shadow:var(--shadow-md)}
.btn:active{transform:scale(.98)}
.btn-accent{background:var(--brand); border-color:transparent; color:#0b0b0b}

.suggest{ position:absolute; left:10px; right:10px; top:100%; margin-top:8px; background:var(--elev); border:1px solid var(--line); border-radius:10px; padding:10px 12px; color:var(--text); box-shadow:var(--shadow-md); cursor:pointer }
.suggest:hover{ background:var(--tile-hover) }

main{padding:16px; max-width:1200px; margin:0 auto; flex:1}
.subtitle{color:var(--muted)}
.results{ display:grid; grid-template-columns:repeat(auto-fill, minmax(280px,1fr)); gap:16px; margin-bottom:140px }
@media (max-width:600px){ .results{grid-template-columns:1fr} }

.card{ position:relative; background:var(--tile); border:1px solid var(--line); border-radius:16px; overflow:hidden; display:flex; align-items:center; gap:12px; padding:12px; cursor:pointer; transition:all .16s var(--transition) }
.card:hover{transform:translateY(-2px); box-shadow:var(--shadow-md); background:var(--tile-hover)}
.card:active{transform:scale(.985)}
.thumb{ width:64px;height:64px;border-radius:12px;background:#000;flex:0 0 64px;background-size:cover;background-position:center }
.meta{display:flex;flex-direction:column;gap:6px;min-width:0}
.title{font-size:15px;font-weight:700;color:var(--text);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.subtitle{font-size:13px;color:var(--muted)}
.card .heart{ position:absolute; top:10px; right:10px; width:36px; height:36px; border-radius:10px; border:1px solid var(--line); background:rgba(255,255,255,.03); display:grid; place-items:center; transition:all .2s; z-index:2 }
.card .heart svg{width:20px;height:20px;fill:none;stroke:var(--muted)}
.card .heart:hover{background:var(--brand)}
.card .heart:hover svg{fill:#0b0b0b; stroke:#0b0b0b}
.card .heart.active{background:var(--brand)}
.card .heart.active svg{fill:#0b0b0b; stroke:#0b0b0b}
.active-card{outline:2px solid var(--brand); box-shadow:0 0 0 3px rgba(255,77,87,.15)}

/* Ecualizador animaci√≥n */
.eq{display:inline-flex;align-items:flex-end;gap:2px;width:16px;height:14px;margin-right:6px}
.eq span{display:block;width:3px;height:100%;background:var(--brand);opacity:.9;border-radius:1px;animation:eqbar 1.2s ease-in-out infinite}
.eq span:nth-child(2){animation-delay:.2s}.eq span:nth-child(3){animation-delay:.4s}
@keyframes eqbar{0%,100%{transform:scaleY(.3);opacity:.6}50%{transform:scaleY(1);opacity:1}}
.hide{display:none !important}

/* Player */
.player{ position:fixed; left:0; right:0; bottom:0; z-index:30; background:rgba(22,24,33,.92); border-top:1px solid var(--line); padding:12px 16px; display:flex; align-items:center; gap:16px; box-shadow:0 -8px 24px rgba(0,0,0,.35); border-radius:16px 16px 0 0; backdrop-filter:blur(10px) }
.p-cover{width:56px;height:56px;border-radius:10px;background:#000;background-size:cover;background-position:center;flex-shrink:0}
.p-info{flex:1;min-width:0;display:flex;flex-direction:column;gap:6px}
.p-title{font-size:16px;font-weight:800;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.p-time{font-size:13px;color:var(--muted)}
.p-controls{display:flex;align-items:center;gap:12px;flex-shrink:0}
.icon{ width:56px;height:56px;border-radius:50%;display:grid;place-items:center;border:none;background:#242734;color:#e8eaf0;cursor:pointer;transition:all .2s;box-shadow:inset 0 0 0 1px var(--line), var(--shadow-sm) }
.icon:hover{transform:translateY(-2px);box-shadow:inset 0 0 0 1px var(--line), var(--shadow-md)}
.icon svg{width:26px;height:26px}
.btn-play{ width:96px; height:96px; background:var(--play); color:#0a1f0f; box-shadow:0 8px 28px rgba(94,225,146,.35) }
.btn-play:hover{ background:var(--play-2) }
.icon.active{ outline:2px solid var(--brand); }
.icon.repeat-one::after{
  content:'1'; position:absolute; right:12px; bottom:12px; width:18px; height:18px; border-radius:50%;
  background:#0e0f13; color:var(--brand); font-weight:900; font-size:11px; display:grid; place-items:center; box-shadow:var(--shadow-sm)
}
.seek{flex:2;display:flex;align-items:center;gap:10px}
input[type="range"]{-webkit-appearance:none;width:100%;height:6px;background:#2a2e3a;border-radius:3px;outline:none;cursor:pointer}
input[type="range"]::-webkit-slider-thumb{-webkit-appearance:none;width:16px;height:16px;background:var(--play);border-radius:50%;border:0;box-shadow:var(--shadow-sm)}
input[type="range"]::-moz-range-thumb{width:16px;height:16px;background:var(--play);border:0;border-radius:50%}
.vol{display:flex;align-items:center;min-width:110px}

/* FABs */
.fab{
  position:fixed; right:18px; bottom:95px; z-index:40; width:58px; height:58px; border-radius:18px;
  border:1px solid var(--line); background:var(--brand); color:#0b0b0b; display:grid; place-items:center;
  box-shadow:0 10px 28px rgba(0,0,0,.45); transition:transform .15s;
}
.fab:active{transform:scale(.97)}
.fab svg{width:26px;height:26px;fill:#0b0b0b}
.fab-in-modal{ position:absolute; right:18px; bottom:18px }

/* Modal Favoritos */
.modal{position:fixed; inset:0; display:none; z-index:50}
.modal.show{display:block}
.modal-backdrop{position:absolute; inset:0; background:#0e0f13}
.modal-panel{position:absolute; inset:0; display:flex; flex-direction:column; background:var(--bg)}
.fav-header{
  position:relative; min-height:220px; padding:22px 18px; display:flex; align-items:flex-end;
  background-size:cover; background-position:center;
}
.fav-header::after{
  content:""; position:absolute; inset:0; background:linear-gradient(180deg,rgba(0,0,0,.15),rgba(0,0,0,.75) 70%); pointer-events:none;
}
.fav-titles{position:relative; z-index:2}
.fav-caption{font-size:13px;color:#e9e9e9;text-shadow:0 2px 8px rgba(0,0,0,.6)}
.fav-now{font-size:22px;font-weight:900;text-shadow:0 3px 10px rgba(0,0,0,.7)}
#closeFavs{position:absolute; right:12px; top:12px; z-index:3}
.fav-list{overflow:auto; padding:10px 8px 160px; background:linear-gradient(180deg,rgba(0,0,0,.12),transparent),var(--bg)}
.fav-row{
  position:relative; display:grid; grid-template-columns:52px 1fr auto; align-items:center;
  gap:12px; padding:12px; margin:8px; background:var(--tile); border:1px solid var(--line);
  border-radius:14px; cursor:pointer; transition:transform .12s, background .12s;
}
.fav-row:hover{transform:translateY(-2px); background:var(--tile-hover)}
.fav-row.is-current{background:#2a1b1d;border-color:#ff4d571f}
.fav-row.is-current::before{content:""; position:absolute; left:0; top:10px; bottom:10px; width:3px; background:var(--brand); border-radius:3px}
.fav-thumb{width:52px;height:52px;border-radius:10px;background-size:cover;background-position:center}
.fav-meta{min-width:0}
.fav-title{font-size:15px;font-weight:800;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:flex;align-items:center;gap:8px}
.fav-sub{font-size:13px;color:var(--muted)}
.fav-actions{display:flex;align-items:center;gap:8px}
.btn-x{width:36px;height:36px;border-radius:10px;border:1px solid var(--line);background:transparent;display:grid;place-items:center}
.btn-x:hover{background:var(--brand);border-color:transparent;color:#0b0b0b}
.btn-x svg{width:18px;height:18px}

/* Notice + ocultar iframe */
.paused-notice{ position:absolute; top:50%; left:50%; transform:translate(-50%,-50%); background:rgba(0,0,0,.8); color:#fff; padding:8px 16px; border-radius:8px; font-size:14px; display:none }
.paused-notice.show{display:block}
#yt-holder{ position:fixed!important; width:0!important; height:0!important; overflow:hidden!important; opacity:0!important; pointer-events:none!important; inset:auto!important; clip-path:inset(50%)!important; clip:rect(0 0 0 0)!important }

.footer{padding:40px 16px; color:var(--muted); text-align:center; font-size:12px}

@media (min-width:680px){
  :root{ --side-pad:20px }
  .results{ gap:18px }
}
